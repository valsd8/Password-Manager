<UserControl x:Class="PasswordManager.View.VaultAction"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:PasswordManager.View"
             xmlns:controls="clr-namespace:PasswordManager.Services"
             mc:Ignorable="d" 
             xmlns:vm="clr-namespace:PasswordManager.ViewModel"
             d:DesignHeight="450" d:DesignWidth="800"
             >


    <UserControl.DataContext>
        <vm:VaultAction/>
    </UserControl.DataContext>
    <UserControl.Resources>
    </UserControl.Resources>




    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

       
        <TextBlock Text="Vault Entries" FontSize="20" FontWeight="Bold" Margin="0,0,0,10"/>

        <ListView x:Name="VaultListView" Grid.Row="1"
                  HorizontalContentAlignment="Stretch"
          ScrollViewer.HorizontalScrollBarVisibility="Disabled">
            <ListView.Resources>
                <Style TargetType="Border">
                    <Setter Property="CornerRadius" Value="10"/>
                </Style>
            </ListView.Resources>
            <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid Margin="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                
                                <ColumnDefinition Width="*"/>
                                
                                <ColumnDefinition Width="*"/>
                                
                                <ColumnDefinition Width="*"/>
                                
                                <ColumnDefinition Width="*"/>
                                
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" Text="{Binding Url}" VerticalAlignment="Center" />
                            <TextBlock Grid.Column="1" Text="{Binding Email}" VerticalAlignment="Center" />
                            <TextBlock Grid.Column="2" Text="{Binding Password}" VerticalAlignment="Center" />
                            <TextBlock Grid.Column="3" Text="{Binding OptionalComment}" VerticalAlignment="Center" />

                        <Button Grid.Column="4" Content="🗑️" 
                Background="#db1a51"
                Margin="0"
                                    Width="40"
                Padding="0"
                Click="DeleteBtn_Click"
                                    Style="{StaticResource ModernButtonStyle}"/>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        
        
        <StackPanel Grid.Row="2" Orientation="Vertical" Margin="0,10,0,0">
          
            <Grid Margin="0,0,0,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <AdornerDecorator Grid.Column="0" Margin="5">
                    <TextBox x:Name="url">
                        <TextBox.Resources>
                            <Style TargetType="{x:Type Border}">
                                <Setter Property="CornerRadius" Value="3"/>
                            </Style>
                        </TextBox.Resources>
                        <controls:WatermarkService.Watermark>
                            <TextBlock Margin="3" Padding="3">Add optional website url</TextBlock>
                        </controls:WatermarkService.Watermark>
                    </TextBox>
                </AdornerDecorator>

                <AdornerDecorator Grid.Column="1" Margin="5">
                    <TextBox x:Name="username">
                        <TextBox.Resources>
                            <Style TargetType="{x:Type Border}">
                                <Setter Property="CornerRadius" Value="3"/>
                            </Style>
                        </TextBox.Resources>
                        <controls:WatermarkService.Watermark>
                            <TextBlock Margin="3" Padding="3">Add username / email</TextBlock>
                        </controls:WatermarkService.Watermark>
                    </TextBox>
                </AdornerDecorator>

                <PasswordBox  Grid.Column="2" Margin="5" x:Name="NewPasswordBox" Style="{StaticResource ModernPasswordBoxStyle}" />

                <AdornerDecorator Grid.Column="3" Margin="5">
                    <TextBox x:Name="OptionalComment">
                        <TextBox.Resources>
                            <Style TargetType="{x:Type Border}">
                                <Setter Property="CornerRadius" Value="3"/>
                            </Style>
                        </TextBox.Resources>
                        <controls:WatermarkService.Watermark>
                            <TextBlock Margin="3" Padding="3">Add optional comment</TextBlock>
                        </controls:WatermarkService.Watermark>
                    </TextBox>
                </AdornerDecorator>
            </Grid>

            <Grid HorizontalAlignment="Stretch">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0" x:Name="Add_Entry_btn"
                        Style="{StaticResource ModernButtonStyle}"
                        Content="Add Entry"
                
                Margin="5" Click="Add_entry_btn_Click" />

                

                
            </Grid>

            <TextBlock Text="" x:Name="errorTextBlock" Margin="5"/>
        </StackPanel>

    </Grid>







</UserControl>
